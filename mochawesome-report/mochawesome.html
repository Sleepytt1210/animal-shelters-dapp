<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:17,&quot;tests&quot;:68,&quot;passes&quot;:63,&quot;pending&quot;:5,&quot;failures&quot;:0,&quot;start&quot;:&quot;2022-05-06T14:34:26.002Z&quot;,&quot;end&quot;:&quot;2022-05-06T14:34:36.536Z&quot;,&quot;duration&quot;:10534,&quot;testsRegistered&quot;:68,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:7.352941176470589,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;a0b99e92-85f2-4cde-956f-8a7252245aba&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3a13d015-9a2c-475c-b34e-0412abf09b23&quot;,&quot;title&quot;:&quot;Contract: Adoption Contract Unit and Integration Test&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: prepare suite in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test \&quot;before all\&quot; hook: prepare suite in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(runner.BEFORE_TIMEOUT);\nawait runner.initialize();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a63fde55-d13d-41b7-8f47-5de46a2f6dc1&quot;,&quot;parentUUID&quot;:&quot;3a13d015-9a2c-475c-b34e-0412abf09b23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: before test in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test \&quot;before each\&quot; hook: before test in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.startTest();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fbe7deb-de96-48fb-8b88-294bd18b04b7&quot;,&quot;parentUUID&quot;:&quot;3a13d015-9a2c-475c-b34e-0412abf09b23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test \&quot;before each\&quot; hook in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:169,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;snow = await ShelterNOW.new();\nadoption = await Adoption.new(snow.address);\nadoptionFee = await adoption.getAdoptionFee();\nconst acc2Bal = await snow.balanceOf(account2);\n// Initialise account 2 with some funds.\nconst initialFund = (1e6).toString();\nif (acc2Bal.lten(0))\n  await snow.transfer(account2, SNOWdenomination(initialFund), {\n    from: account1,\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb373e6b-e58e-48cd-995c-372c5221dc81&quot;,&quot;parentUUID&quot;:&quot;3a13d015-9a2c-475c-b34e-0412abf09b23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook: after test in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test \&quot;after each\&quot; hook: after test in \&quot;Contract: Adoption Contract Unit and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.endTest(this);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c18ee49-5b43-4073-ae0c-07c4215ab6ff&quot;,&quot;parentUUID&quot;:&quot;3a13d015-9a2c-475c-b34e-0412abf09b23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should successfully add 2 pets to the blockchain&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test should successfully add 2 pets to the blockchain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const startingPetCount = await adoption.totalSupply();\nassert.isTrue(startingPetCount.eqn(0), \&quot;Starting pet count should be 0\&quot;);\nconst expectedPetCount = 2;\nconst result1 = await adoption.addPet(fakeURI, adoptionStates[0], {\n  from: account1,\n});\nconst result2 = await adoption.addPet(fakeURI, adoptionStates[0], {\n  from: account1,\n});\nconst actualPetCount = await adoption.totalSupply();\ntruffleAssert.eventEmitted(result1, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account1 &amp;&amp;\n    ev.petID.eqn(0) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;ADDED\&quot;])\n  );\n});\ntruffleAssert.eventEmitted(result2, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account1 &amp;&amp;\n    ev.petID.eqn(1) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;ADDED\&quot;])\n  );\n});\nassert.isTrue(\n  actualPetCount.eqn(expectedPetCount),\n  \&quot;Actual pet count is incorrect after pets are added\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c2c2856-2d06-4a3f-8af6-1dfe5c32e621&quot;,&quot;parentUUID&quot;:&quot;3a13d015-9a2c-475c-b34e-0412abf09b23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5543dc56-cd9d-49ec-be47-badf1c985e96&quot;,&quot;title&quot;:&quot;Testing normal adoption operations&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Testing normal adoption operations\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations \&quot;before each\&quot; hook in \&quot;Testing normal adoption operations\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initiliase pets.\nfor (let i = 0; i &lt; petCount; i++) {\n  await adoption.addPet(fakeURI, adoptionStates[i], {\n    from: account1,\n  });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;666a82fd-e27e-40b4-bda7-3f2ef60a212f&quot;,&quot;parentUUID&quot;:&quot;5543dc56-cd9d-49ec-be47-badf1c985e96&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should successfully request for adoption of an adoptable pet&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations should successfully request for adoption of an adoptable pet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const petID = 1;\nexpectedAdoptionState = adoptionStateToNum[\&quot;LOCKED\&quot;];\nexpectedAdopter = account2;\nawait snow.approve(adoption.address, adoptionFee, { from: account2 });\nconst result = await adoption.requestAdoption(petID, { from: account2 });\nconst actualState = await adoption.getAdoptionState(petID);\nconst actualAdopter = await adoption.getTempAdopterOf(petID);\nconst depositPaid = await adoption.getAdopterDeposit(account2);\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account2 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])\n  );\n});\nassert.equal(\n  actualState.toNumber(),\n  expectedAdoptionState,\n  \&quot;Adoption state is equal\&quot;\n);\nassert.equal(\n  actualAdopter,\n  expectedAdopter,\n  \&quot;Temporary adopter is equal\&quot;\n);\nassert.isTrue(\n  depositPaid.eq(adoptionFee),\n  \&quot;Deposit paid should be equal to adoption fee\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2857416e-c842-4a42-b2a8-fa5fc2f11050&quot;,&quot;parentUUID&quot;:&quot;5543dc56-cd9d-49ec-be47-badf1c985e96&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f6adc2b1-6929-4bd2-86be-f0489f07afba&quot;,&quot;title&quot;:&quot;Testing pets in locked state&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Testing pets in locked state\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Testing pets in locked state \&quot;before each\&quot; hook in \&quot;Testing pets in locked state\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:106,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await snow.approve(adoption.address, adoptionFee, { from: account2 });\nawait adoption.requestAdoption(petID, { from: account2 });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;297b3b4c-641e-45da-b6e2-55f01ddfecc5&quot;,&quot;parentUUID&quot;:&quot;f6adc2b1-6929-4bd2-86be-f0489f07afba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should successfully approve a pet in LOCKED adoption status with correct arguments&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Testing pets in locked state should successfully approve a pet in LOCKED adoption status with correct arguments&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expectedAdoptionState = adoptionStateToNum[\&quot;LOCKED\&quot;];\nvar actualState = await adoption.getAdoptionState(petID);\nassert.equal(\n  actualState.toNumber(),\n  expectedAdoptionState,\n  \&quot;Adoption State should be LOCKED\&quot;\n);\nexpectedAdoptionState = adoptionStateToNum[\&quot;APPROVED\&quot;];\nconst expectedApproval = account2;\nconst result = await adoption.approveAdoption(account2, petID, {\n  from: account1,\n});\nactualState = await adoption.getAdoptionState(petID);\nconst actualApproval = await adoption.getApproved(petID);\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account2 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])\n  );\n});\nassert.equal(\n  actualState,\n  expectedAdoptionState,\n  \&quot;Adoption State should be APPROVED\&quot;\n);\nassert.equal(\n  actualApproval,\n  expectedApproval,\n  \&quot;Account 2 should be approved for adoption\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74df7d16-c441-422b-b22a-cdeed0f88b90&quot;,&quot;parentUUID&quot;:&quot;f6adc2b1-6929-4bd2-86be-f0489f07afba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject a requested adoption successfully and refund correct amount of penalty&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Testing pets in locked state should reject a requested adoption successfully and refund correct amount of penalty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const penalty = adoptionFee.divn(2);\nconst account1StartingBalance = await snow.balanceOf(account1);\nconst account2StartingBalance = await snow.balanceOf(account2);\nexpectedAdoptionState = adoptionStateToNum[\&quot;ADOPTABLE\&quot;];\nexpectedAdopter = account1;\nconst expectedAccount1Balance = account1StartingBalance.add(penalty);\nconst expectedAccount2Balance = account2StartingBalance.add(penalty);\nconst result = await adoption.rejectAdoption(account2, petID, {\n  from: account1,\n});\nconst actualState = await adoption.getAdoptionState(petID);\nconst actualAdopter = await adoption.getTempAdopterOf(petID);\nconst actualAccount1FinalBalance = await snow.balanceOf(account1);\nconst actualAccount2FinalBalance = await snow.balanceOf(account2);\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account2 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;REJECTED\&quot;])\n  );\n});\nassert.equal(\n  actualState.toNumber(),\n  expectedAdoptionState,\n  \&quot;Adoption Status should be ADOPTABLE\&quot;\n);\nassert.equal(\n  actualAdopter,\n  expectedAdopter,\n  \&quot;Adopter should be the shelter owner\&quot;\n);\nassert.isTrue(\n  expectedAccount1Balance.eq(actualAccount1FinalBalance),\n  \&quot;Owner account balance after rejection is incorrect\&quot;\n);\nassert.isTrue(\n  expectedAccount2Balance.eq(actualAccount2FinalBalance),\n  \&quot;Adopter account balance after rejection is incorrect\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c158b9d4-e997-46dc-9341-0c7801f0160a&quot;,&quot;parentUUID&quot;:&quot;f6adc2b1-6929-4bd2-86be-f0489f07afba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74df7d16-c441-422b-b22a-cdeed0f88b90&quot;,&quot;c158b9d4-e997-46dc-9341-0c7801f0160a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:214,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7c359cb5-fcd2-4beb-83e4-e5380bf95c56&quot;,&quot;title&quot;:&quot;Testing pets in approved state&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Testing pets in approved state\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Testing pets in approved state \&quot;before each\&quot; hook in \&quot;Testing pets in approved state\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:122,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await snow.approve(adoption.address, adoptionFee, { from: account2 });\nawait adoption.requestAdoption(petID, { from: account2 });\nawait adoption.approveAdoption(account2, petID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;268ed2fd-3af9-4848-93aa-2f432bd3cff8&quot;,&quot;parentUUID&quot;:&quot;7c359cb5-fcd2-4beb-83e4-e5380bf95c56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should successfully confirm adoption, transfer tip correctly and get deposit refunded&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Testing pets in approved state should successfully confirm adoption, transfer tip correctly and get deposit refunded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:196,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const tipAmount = SNOWdenomination(1000);\nexpectedAdoptionState = adoptionStateToNum[\&quot;APPROVED\&quot;];\nvar actualState = await adoption.getAdoptionState(petID);\nassert.equal(\n  actualState.toNumber(),\n  expectedAdoptionState,\n  \&quot;Adoption State should be APPROVED\&quot;\n);\nconst account1StartingSNOWBalance = await snow.balanceOf(account1);\nconst account2StartingSNOWBalance = await snow.balanceOf(account2);\nexpectedAdoptionState = adoptionStateToNum[\&quot;ADOPTED\&quot;];\nconst expectedDeposit = 0;\nconst expectedApproval = emptyAddress;\nconst expectedAccount1Balance =\n  account1StartingSNOWBalance.add(tipAmount);\nconst expectedAccount2Balance = account2StartingSNOWBalance\n  .sub(tipAmount)\n  .add(adoptionFee);\nawait snow.approve(adoption.address, tipAmount, { from: account2 });\nconst result = await adoption.confirmAdoption(petID, tipAmount, {\n  from: account2,\n});\nactualState = await adoption.getAdoptionState(petID);\nconst actualApproval = await adoption.getApproved(petID);\nconst actualDepositFee = await adoption.getAdopterDeposit(account2);\nconst actualAccount1FinalBalance = await snow.balanceOf(account1);\nconst actualAccount2FinalBalance = await snow.balanceOf(account2);\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account2 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;ADOPTED\&quot;])\n  );\n});\ntruffleAssert.eventEmitted(result, \&quot;TipsReceived\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account2 &amp;&amp;\n    ev.owner == account1 &amp;&amp;\n    ev.amount.eq(tipAmount)\n  );\n});\nassert.equal(\n  actualState,\n  expectedAdoptionState,\n  \&quot;Adoption State should be ADOPTED\&quot;\n);\nassert.equal(\n  actualApproval,\n  expectedApproval,\n  \&quot;Approval of pet should be an empty address\&quot;\n);\nassert.isTrue(\n  actualDepositFee.eqn(expectedDeposit),\n  \&quot;Deposit should be fully cleared\&quot;\n);\nassert.isTrue(\n  actualAccount1FinalBalance.eq(expectedAccount1Balance),\n  \&quot;Final balance of account 1 should be increased by tip amount\&quot;\n);\nassert.isTrue(\n  actualAccount2FinalBalance.eq(expectedAccount2Balance),\n  \&quot;Final balance of account 2 should be increased by adoption fee and decreased by tip amount\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67466930-b5db-4adc-b44c-e576d9b633e7&quot;,&quot;parentUUID&quot;:&quot;7c359cb5-fcd2-4beb-83e4-e5380bf95c56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should cancel an approved adoption successfully and refund correct amount of penalty&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Testing pets in approved state should cancel an approved adoption successfully and refund correct amount of penalty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const penalty = await adoption.getPenaltyRefundFee();\nconst donation = adoptionFee.sub(penalty);\nconst account1StartingBalance = await snow.balanceOf(account1);\nconst account2StartingBalance = await snow.balanceOf(account2);\nexpectedAdoptionState = adoptionStateToNum[\&quot;ADOPTABLE\&quot;];\nexpectedAdopter = account1;\nconst expectedAccount1Balance = account1StartingBalance.add(donation);\nconst expectedAccount2Balance = account2StartingBalance.add(penalty);\nconst result = await adoption.cancelAdoption(petID, { from: account2 });\nconst actualState = await adoption.getAdoptionState(petID);\nconst actualAdopter = await adoption.getTempAdopterOf(petID);\nconst actualAccount1FinalBalance = await snow.balanceOf(account1);\nconst actualAccount2FinalBalance = await snow.balanceOf(account2);\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account2 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;CANCELLED\&quot;])\n  );\n});\nassert.equal(\n  actualState.toNumber(),\n  expectedAdoptionState,\n  \&quot;Adoption Status should be ADOPTABLE\&quot;\n);\nassert.equal(\n  actualAdopter,\n  expectedAdopter,\n  \&quot;Adopter should be the shelter owner\&quot;\n);\nassert.isTrue(\n  expectedAccount1Balance.eq(actualAccount1FinalBalance),\n  \&quot;Owner account balance after cancellation is incorrect\&quot;\n);\nassert.isTrue(\n  expectedAccount2Balance.eq(actualAccount2FinalBalance),\n  \&quot;Adopter account balance after cancellation is incorrect\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7d64a4e-7571-4185-a583-2a4455969d05&quot;,&quot;parentUUID&quot;:&quot;7c359cb5-fcd2-4beb-83e4-e5380bf95c56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;67466930-b5db-4adc-b44c-e576d9b633e7&quot;,&quot;c7d64a4e-7571-4185-a583-2a4455969d05&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:337,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;264dee78-471b-4fa4-af5f-00a5fe9b590a&quot;,&quot;title&quot;:&quot;Adoption Status manipulation methods&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should successfully change an adoption state of a non-available pet to adoptable&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Adoption Status manipulation methods should successfully change an adoption state of a non-available pet to adoptable&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const petID = 0;\nconst originalState = await adoption.getAdoptionState(petID);\nconst result = await adoption.setPetAdoptable(petID);\nconst actualState = await adoption.getAdoptionState(petID);\nconst expectedState = 1;\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account1 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(adoptionStateToNum[\&quot;ADOPTABLE\&quot;])\n  );\n});\nassert.isTrue(\n  originalState.eqn(0),\n  \&quot;Original state should be NONAVAIL\&quot;\n);\nassert.isTrue(\n  actualState.eqn(expectedState),\n  \&quot;Expected state should ADOPTABLE\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5913fbf9-ae7b-4997-b066-0389fba73043&quot;,&quot;parentUUID&quot;:&quot;264dee78-471b-4fa4-af5f-00a5fe9b590a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should successfully change an adoption state of an adoptable pet to non-adoptable (REMOVED)&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Adoption Status manipulation methods should successfully change an adoption state of an adoptable pet to non-adoptable (REMOVED)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const petID = 1;\nconst reason = adoptionStateToNum[\&quot;REMOVED\&quot;];\nconst originalState = await adoption.getAdoptionState(petID);\nconst result = await adoption.setPetNotAdoptable(petID, reason);\nconst actualState = await adoption.getAdoptionState(petID);\nconst expectedState = 0;\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account1 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(reason)\n  );\n});\nassert.isTrue(\n  originalState.eqn(1),\n  \&quot;Original state should be ADOPTABLE\&quot;\n);\nassert.isTrue(\n  actualState.eqn(expectedState),\n  \&quot;Expected state should NONAVAIL\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fd18f2b-0665-48f2-9f5b-70429ed924e1&quot;,&quot;parentUUID&quot;:&quot;264dee78-471b-4fa4-af5f-00a5fe9b590a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should successfully change an adoption state of an adoptable pet to non-adoptable (EUTHANISED)&quot;,&quot;fullTitle&quot;:&quot;Contract: Adoption Contract Unit and Integration Test Testing normal adoption operations Adoption Status manipulation methods should successfully change an adoption state of an adoptable pet to non-adoptable (EUTHANISED)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const petID = 1;\nconst reason = adoptionStateToNum[\&quot;EUTHANISED\&quot;];\nconst originalState = await adoption.getAdoptionState(petID);\nconst result = await adoption.setPetNotAdoptable(petID, reason);\nconst actualState = await adoption.getAdoptionState(petID);\nconst expectedState = 0;\ntruffleAssert.eventEmitted(result, \&quot;AdoptionStatus\&quot;, (ev) =&gt; {\n  return (\n    ev.adopter == account1 &amp;&amp;\n    ev.petID.eqn(petID) &amp;&amp;\n    ev.status.eqn(reason)\n  );\n});\nassert.isTrue(\n  originalState.eqn(1),\n  \&quot;Original state should be ADOPTABLE\&quot;\n);\nassert.isTrue(\n  actualState.eqn(expectedState),\n  \&quot;Expected state should NONAVAIL\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e23a44b-38fb-4a9c-9112-efd54f35bd34&quot;,&quot;parentUUID&quot;:&quot;264dee78-471b-4fa4-af5f-00a5fe9b590a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5913fbf9-ae7b-4997-b066-0389fba73043&quot;,&quot;3fd18f2b-0665-48f2-9f5b-70429ed924e1&quot;,&quot;7e23a44b-38fb-4a9c-9112-efd54f35bd34&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:170,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[&quot;2857416e-c842-4a42-b2a8-fa5fc2f11050&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:143,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[&quot;1c2c2856-2d06-4a3f-8af6-1dfe5c32e621&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:123,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;74d17eb0-6f05-4099-b706-4704fe45feda&quot;,&quot;title&quot;:&quot;Contract: Revert checks for Adoption Contract&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: prepare suite in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract \&quot;before all\&quot; hook: prepare suite in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:127,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(runner.BEFORE_TIMEOUT);\nawait runner.initialize();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1561812-0086-4483-a99a-16934fe0096f&quot;,&quot;parentUUID&quot;:&quot;74d17eb0-6f05-4099-b706-4704fe45feda&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract \&quot;before all\&quot; hook in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:188,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;snow = await ShelterNOW.new();\nadoption = await Adoption.new(snow.address);\nadoptionFee = await adoption.getAdoptionFee();\nconst acc2Bal = await snow.balanceOf(account2);\n// Initialise account 2 with some funds.\nconst initialFund = (1e6).toString();\nif (acc2Bal.lten(0))\n  await snow.transfer(account2, SNOWdenomination(initialFund), {\n    from: account1,\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f20e4c9-0fba-4aad-8826-730698ec2ba7&quot;,&quot;parentUUID&quot;:&quot;74d17eb0-6f05-4099-b706-4704fe45feda&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: before test in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract \&quot;before each\&quot; hook: before test in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.startTest();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df09cdbe-a089-4924-a0ac-5a67168fa87b&quot;,&quot;parentUUID&quot;:&quot;74d17eb0-6f05-4099-b706-4704fe45feda&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook: after test in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract \&quot;after each\&quot; hook: after test in \&quot;Contract: Revert checks for Adoption Contract\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.endTest(this);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3dd0fdb2-5661-4a4e-8d38-57d9c9d18f7f&quot;,&quot;parentUUID&quot;:&quot;74d17eb0-6f05-4099-b706-4704fe45feda&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;title&quot;:&quot;Test reverts for add pet method&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should revert on adding pet with invalid new status LOCKED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status LOCKED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3434d41-2d77-48c1-8013-69e8296242c8&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on adding pet with invalid new status APPROVED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status APPROVED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9040ebff-af41-4a1d-a25c-de25090415c6&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on adding pet with invalid new status ADOPTED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status ADOPTED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:53,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b86621c1-ea54-4aaf-83d0-70aac5131a78&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on adding pet with invalid new status REJECTED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status REJECTED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d48dc15-548c-4a18-b926-d510af95278e&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on adding pet with invalid new status CANCELLED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status CANCELLED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:98,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb09858a-06a5-46ee-b9a9-7be595338c67&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on adding pet with invalid new status ADDED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status ADDED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:51,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c226cc0f-9aa8-4736-94a6-9598fe26df7d&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on adding pet with invalid new status REMOVED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status REMOVED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c56e8eb-8e1a-4af2-9388-40334d8e8ff6&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on adding pet with invalid new status EUTHANISED&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Test reverts for add pet method should revert on adding pet with invalid new status EUTHANISED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.addPet(fakeURI, adoptionStateToNum[badStatus]),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Adoption status must be either adoptable or not available\&quot;,\n  `Add pet transaction passes with invalid status ${badStatus}`\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11947111-c289-460e-8497-a1fa73c36f8a&quot;,&quot;parentUUID&quot;:&quot;81cecb46-9890-4820-987f-32af4d1985f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d3434d41-2d77-48c1-8013-69e8296242c8&quot;,&quot;9040ebff-af41-4a1d-a25c-de25090415c6&quot;,&quot;b86621c1-ea54-4aaf-83d0-70aac5131a78&quot;,&quot;7d48dc15-548c-4a18-b926-d510af95278e&quot;,&quot;fb09858a-06a5-46ee-b9a9-7be595338c67&quot;,&quot;c226cc0f-9aa8-4736-94a6-9598fe26df7d&quot;,&quot;9c56e8eb-8e1a-4af2-9388-40334d8e8ff6&quot;,&quot;11947111-c289-460e-8497-a1fa73c36f8a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:438,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;53345516-6951-439a-bc71-95cb059d7dee&quot;,&quot;title&quot;:&quot;Reverts with pet ID&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Reverts with pet ID\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID \&quot;before all\&quot; hook in \&quot;Reverts with pet ID\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:665,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;for (let i = 0; i &lt; revertPetCount; i++) {\n  await adoption.addPet(fakeURI, i &amp;&amp; 1);\n}\nawait snow.approve(adoption.address, adoptionFee * 4, {\n  from: account2,\n});\nfor (let i = 2; i &lt; 5; i++) {\n  await adoption.requestAdoption(i, { from: account2 });\n}\nfor (let i = 3; i &lt; 5; i++) {\n  await adoption.approveAdoption(account2, i, { from: account1 });\n}\nawait adoption.confirmAdoption(4, 0, { from: account2 });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d293679-f17e-4f17-9aee-f025ead88960&quot;,&quot;parentUUID&quot;:&quot;53345516-6951-439a-bc71-95cb059d7dee&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a6a792df-c770-4375-b68b-7116c4c0a846&quot;,&quot;title&quot;:&quot;Test reverts for request method&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should revert on requesting nonexistent pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for request method should revert on requesting nonexistent pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.requestAdoption(revertPetCount, { from: account2 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;ERC721: Query for nonexistent pet\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0d9dee3-9ceb-4b41-adac-6a475befe2db&quot;,&quot;parentUUID&quot;:&quot;a6a792df-c770-4375-b68b-7116c4c0a846&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a request on a non adoptable pet, pet ID: 0&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for request method should revert a request on a non adoptable pet, pet ID: 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:56,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;ADOPTABLE\&quot;])) {\n  await truffleAssert.fails(\n    adoption.requestAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not available for adoption\&quot;,\n    \&quot;Request adoption incorrectly passed with non adoptable pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd5900ad-9092-4ef3-82ac-ac529e7ce2f8&quot;,&quot;parentUUID&quot;:&quot;a6a792df-c770-4375-b68b-7116c4c0a846&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a request on a non adoptable pet, pet ID: 1&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for request method should revert a request on a non adoptable pet, pet ID: 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;ADOPTABLE\&quot;])) {\n  await truffleAssert.fails(\n    adoption.requestAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not available for adoption\&quot;,\n    \&quot;Request adoption incorrectly passed with non adoptable pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eda8b308-6f8c-40df-bd00-11a1ba6a0a11&quot;,&quot;parentUUID&quot;:&quot;a6a792df-c770-4375-b68b-7116c4c0a846&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a request on a non adoptable pet, pet ID: 2&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for request method should revert a request on a non adoptable pet, pet ID: 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:82,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;ADOPTABLE\&quot;])) {\n  await truffleAssert.fails(\n    adoption.requestAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not available for adoption\&quot;,\n    \&quot;Request adoption incorrectly passed with non adoptable pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;288ae514-ca16-4558-ad69-13791e8b38cf&quot;,&quot;parentUUID&quot;:&quot;a6a792df-c770-4375-b68b-7116c4c0a846&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a request on a non adoptable pet, pet ID: 3&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for request method should revert a request on a non adoptable pet, pet ID: 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;ADOPTABLE\&quot;])) {\n  await truffleAssert.fails(\n    adoption.requestAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not available for adoption\&quot;,\n    \&quot;Request adoption incorrectly passed with non adoptable pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;534c3a30-ff1f-437c-be5e-236fadee7e6f&quot;,&quot;parentUUID&quot;:&quot;a6a792df-c770-4375-b68b-7116c4c0a846&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a request on a non adoptable pet, pet ID: 4&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for request method should revert a request on a non adoptable pet, pet ID: 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;ADOPTABLE\&quot;])) {\n  await truffleAssert.fails(\n    adoption.requestAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not available for adoption\&quot;,\n    \&quot;Request adoption incorrectly passed with non adoptable pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83dd57f3-83db-4152-9a16-fdc1cf66160a&quot;,&quot;parentUUID&quot;:&quot;a6a792df-c770-4375-b68b-7116c4c0a846&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c0d9dee3-9ceb-4b41-adac-6a475befe2db&quot;,&quot;fd5900ad-9092-4ef3-82ac-ac529e7ce2f8&quot;,&quot;288ae514-ca16-4558-ad69-13791e8b38cf&quot;,&quot;534c3a30-ff1f-437c-be5e-236fadee7e6f&quot;,&quot;83dd57f3-83db-4152-9a16-fdc1cf66160a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;eda8b308-6f8c-40df-bd00-11a1ba6a0a11&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:305,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;title&quot;:&quot;Test reverts for approve and reject methods&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should revert on approving nonexistent pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert on approving nonexistent pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.approveAdoption(account2, revertPetCount, {\n    from: account1,\n  }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;ERC721: Query for nonexistent pet\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;869dbc2f-7404-4745-b4fc-b1b8e223302c&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on rejecting nonexistent pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert on rejecting nonexistent pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.rejectAdoption(account2, revertPetCount, { from: account1 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;ERC721: Query for nonexistent pet\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92dd5db6-901d-4c7d-850f-1949ffd6b20a&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an approval on a non requested pet, pet ID: 0&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert an approval on a non requested pet, pet ID: 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.approveAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Approve adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f894f17-3d72-4cb5-aa96-1a8470fb7c7b&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a rejection on a non requested pet, pet ID: 0&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert a rejection on a non requested pet, pet ID: 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.rejectAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Reject adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1eb1df88-faa0-4030-ad9b-85c5a2cbc291&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an approval on a non requested pet, pet ID: 1&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert an approval on a non requested pet, pet ID: 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.approveAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Approve adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f291f0ec-fd1e-450d-8426-c7b5ace48864&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a rejection on a non requested pet, pet ID: 1&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert a rejection on a non requested pet, pet ID: 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.rejectAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Reject adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5cc6ff8-e508-40e6-b8e2-43dd0b119030&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an approval on a non requested pet, pet ID: 2&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert an approval on a non requested pet, pet ID: 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.approveAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Approve adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0364f0f9-061e-40c1-a159-4179b3b5c612&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a rejection on a non requested pet, pet ID: 2&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert a rejection on a non requested pet, pet ID: 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.rejectAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Reject adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;652561f0-3d7f-47b4-b640-b87d2750cb33&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an approval on a non requested pet, pet ID: 3&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert an approval on a non requested pet, pet ID: 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:49,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.approveAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Approve adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c903c80-525e-4ec1-b74c-89d39da685c9&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a rejection on a non requested pet, pet ID: 3&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert a rejection on a non requested pet, pet ID: 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.rejectAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Reject adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7f7f20c-168c-4871-811e-5f246f53710e&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an approval on a non requested pet, pet ID: 4&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert an approval on a non requested pet, pet ID: 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:79,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.approveAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Approve adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93e9f359-686d-42ab-beb3-baa099ca540d&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a rejection on a non requested pet, pet ID: 4&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert a rejection on a non requested pet, pet ID: 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;LOCKED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.rejectAdoption(account2, petID, { from: account1 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not requested for adoption yet!\&quot;,\n    \&quot;Reject adoption incorrectly passed with non requested pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2af2710-221c-48cd-a1c0-d6d2e4a1b671&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on approving unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert on approving unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:70,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.approveAdoption(account3, lockedPet, { from: account1 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc06a06c-3d94-4793-ace7-c6539db7007a&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on rejecting unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for approve and reject methods should revert on rejecting unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.rejectAdoption(account3, lockedPet, { from: account1 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74632737-481f-42f5-b912-e6716ea7cfe5&quot;,&quot;parentUUID&quot;:&quot;431bc421-5563-41f6-8cc2-1a2df6a1c5a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;869dbc2f-7404-4745-b4fc-b1b8e223302c&quot;,&quot;92dd5db6-901d-4c7d-850f-1949ffd6b20a&quot;,&quot;5f894f17-3d72-4cb5-aa96-1a8470fb7c7b&quot;,&quot;1eb1df88-faa0-4030-ad9b-85c5a2cbc291&quot;,&quot;f291f0ec-fd1e-450d-8426-c7b5ace48864&quot;,&quot;b5cc6ff8-e508-40e6-b8e2-43dd0b119030&quot;,&quot;9c903c80-525e-4ec1-b74c-89d39da685c9&quot;,&quot;a7f7f20c-168c-4871-811e-5f246f53710e&quot;,&quot;93e9f359-686d-42ab-beb3-baa099ca540d&quot;,&quot;d2af2710-221c-48cd-a1c0-d6d2e4a1b671&quot;,&quot;cc06a06c-3d94-4793-ace7-c6539db7007a&quot;,&quot;74632737-481f-42f5-b912-e6716ea7cfe5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;0364f0f9-061e-40c1-a159-4179b3b5c612&quot;,&quot;652561f0-3d7f-47b4-b640-b87d2750cb33&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:696,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;title&quot;:&quot;Test reverts for confirm and cancel methods&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Adoption.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Adoption.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should revert on confirming nonexistent pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on confirming nonexistent pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.confirmAdoption(revertPetCount, 0, { from: account2 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;ERC721: Query for nonexistent pet\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e50a9f0d-cd5d-448e-9ffe-4fd6e1f0d4e6&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on cancelling nonexistent pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on cancelling nonexistent pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.cancelAdoption(revertPetCount, { from: account2 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;ERC721: Query for nonexistent pet\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49d39b78-c7e8-4154-8abf-0b62375f63c5&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a confirmation on a non approved pet, pet ID: 0&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert a confirmation on a non approved pet, pet ID: 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.confirmAdoption(petID, 0, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Confirm adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81450b62-4fad-42a7-bbaf-fb3334512ce3&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an cancellation on a non approved pet, pet ID: 0&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert an cancellation on a non approved pet, pet ID: 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.cancelAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Cancel adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2af35980-b54d-43b3-8ee5-50a5820ac012&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on confirming unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on confirming unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.confirmAdoption(approvedPet, 0, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6083983c-7c16-4682-9d2d-425bc48dbcf9&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on cancelling unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on cancelling unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:51,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.cancelAdoption(approvedPet, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aba6035b-8d28-41a7-8086-90b410fbd021&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a confirmation on a non approved pet, pet ID: 1&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert a confirmation on a non approved pet, pet ID: 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.confirmAdoption(petID, 0, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Confirm adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;206c41c7-e89e-4eb8-a0d8-084f32f67669&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an cancellation on a non approved pet, pet ID: 1&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert an cancellation on a non approved pet, pet ID: 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:55,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.cancelAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Cancel adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f73ea35-4d80-4c0d-912f-9f1a50e01f3d&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on confirming unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on confirming unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.confirmAdoption(approvedPet, 0, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41f61782-8f25-4076-886c-090001702e1c&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on cancelling unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on cancelling unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.cancelAdoption(approvedPet, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1cba199-05db-4739-b9ff-c65c07c4cfda&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a confirmation on a non approved pet, pet ID: 2&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert a confirmation on a non approved pet, pet ID: 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:83,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.confirmAdoption(petID, 0, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Confirm adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63177642-df27-4ff3-9ea0-85fb1785707e&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an cancellation on a non approved pet, pet ID: 2&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert an cancellation on a non approved pet, pet ID: 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:81,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.cancelAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Cancel adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bddaf832-ac9c-4655-8b9f-c3193070e975&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on confirming unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on confirming unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.confirmAdoption(approvedPet, 0, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a2455d3-b6db-4092-be1e-521083e03ddb&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on cancelling unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on cancelling unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.cancelAdoption(approvedPet, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e24c4ab-0f09-446f-ab1f-f2090aafdeb8&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a confirmation on a non approved pet, pet ID: 3&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert a confirmation on a non approved pet, pet ID: 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.confirmAdoption(petID, 0, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Confirm adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe41f471-e4e2-45d3-83f2-583ba32ebfb6&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an cancellation on a non approved pet, pet ID: 3&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert an cancellation on a non approved pet, pet ID: 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.cancelAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Cancel adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7694fc4-6981-437b-8773-20a1b1c207b9&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on confirming unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on confirming unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:76,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.confirmAdoption(approvedPet, 0, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a96b2f84-d928-4164-9981-7f09b9b57f9b&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on cancelling unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on cancelling unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.cancelAdoption(approvedPet, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;617e5530-6e3f-4869-8da2-8a926ea2564e&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert a confirmation on a non approved pet, pet ID: 4&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert a confirmation on a non approved pet, pet ID: 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.confirmAdoption(petID, 0, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Confirm adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78812d57-20d7-44fe-a52b-0acee426d021&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert an cancellation on a non approved pet, pet ID: 4&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert an cancellation on a non approved pet, pet ID: 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adoptionStatus = await adoption.getAdoptionState(petID);\nif (!adoptionStatus.eqn(adoptionStateToNum[\&quot;APPROVED\&quot;])) {\n  await truffleAssert.fails(\n    adoption.cancelAdoption(petID, { from: account2 }),\n    truffleAssert.ErrorType.REVERT,\n    \&quot;Not approved for adoption!\&quot;,\n    \&quot;Cancel adoption incorrectly passed with non approved pet\&quot;\n  );\n} else {\n  this.skip();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f856a16-9d7c-4c74-9e80-ba81539120ff&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on confirming unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on confirming unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:99,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.confirmAdoption(approvedPet, 0, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebf6760e-e79b-4af6-8be2-0622fc2a908a&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on cancelling unmatched adopter and pet ID&quot;,&quot;fullTitle&quot;:&quot;Contract: Revert checks for Adoption Contract Reverts with pet ID Test reverts for confirm and cancel methods should revert on cancelling unmatched adopter and pet ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await truffleAssert.fails(\n  adoption.cancelAdoption(approvedPet, { from: account3 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;Pet does not match adopter!\&quot;,\n  \&quot;Request adoption incorrectly passed with nonexistent pet\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad9f60de-08d8-4612-88f7-5601484a882e&quot;,&quot;parentUUID&quot;:&quot;5c75c7d9-1ab4-446c-a204-27328ab9a7f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e50a9f0d-cd5d-448e-9ffe-4fd6e1f0d4e6&quot;,&quot;49d39b78-c7e8-4154-8abf-0b62375f63c5&quot;,&quot;81450b62-4fad-42a7-bbaf-fb3334512ce3&quot;,&quot;2af35980-b54d-43b3-8ee5-50a5820ac012&quot;,&quot;6083983c-7c16-4682-9d2d-425bc48dbcf9&quot;,&quot;aba6035b-8d28-41a7-8086-90b410fbd021&quot;,&quot;206c41c7-e89e-4eb8-a0d8-084f32f67669&quot;,&quot;7f73ea35-4d80-4c0d-912f-9f1a50e01f3d&quot;,&quot;41f61782-8f25-4076-886c-090001702e1c&quot;,&quot;e1cba199-05db-4739-b9ff-c65c07c4cfda&quot;,&quot;63177642-df27-4ff3-9ea0-85fb1785707e&quot;,&quot;bddaf832-ac9c-4655-8b9f-c3193070e975&quot;,&quot;7a2455d3-b6db-4092-be1e-521083e03ddb&quot;,&quot;6e24c4ab-0f09-446f-ab1f-f2090aafdeb8&quot;,&quot;a96b2f84-d928-4164-9981-7f09b9b57f9b&quot;,&quot;617e5530-6e3f-4869-8da2-8a926ea2564e&quot;,&quot;78812d57-20d7-44fe-a52b-0acee426d021&quot;,&quot;9f856a16-9d7c-4c74-9e80-ba81539120ff&quot;,&quot;ebf6760e-e79b-4af6-8be2-0622fc2a908a&quot;,&quot;ad9f60de-08d8-4612-88f7-5601484a882e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;fe41f471-e4e2-45d3-83f2-583ba32ebfb6&quot;,&quot;a7694fc4-6981-437b-8773-20a1b1c207b9&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1413,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;4be9a5f8-4a44-4ba6-818a-1d9a42ec85eb&quot;,&quot;title&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Donation.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Donation.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: prepare suite in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test \&quot;before all\&quot; hook: prepare suite in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:120,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(runner.BEFORE_TIMEOUT);\nawait runner.initialize();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98b3ba60-13e4-402c-ba99-9555545a18bf&quot;,&quot;parentUUID&quot;:&quot;4be9a5f8-4a44-4ba6-818a-1d9a42ec85eb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: before test in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test \&quot;before each\&quot; hook: before test in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.startTest();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8e0d406-120c-41f3-b242-3e59e3d6c13d&quot;,&quot;parentUUID&quot;:&quot;4be9a5f8-4a44-4ba6-818a-1d9a42ec85eb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test \&quot;before each\&quot; hook in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:130,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;snow = await ShelterNOW.new();\ndonation = await Donation.new(snow.address);\nconst acc2Bal = await snow.balanceOf(account2);\n// Initialise account 2 with some funds.\nconst initialFund = (1e6).toString();\nif (acc2Bal.lten(0))\n  await snow.transfer(account2, SNOWdenomination(initialFund), {\n    from: account1,\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;774dc391-09ed-4c4d-8c24-c875328574bc&quot;,&quot;parentUUID&quot;:&quot;4be9a5f8-4a44-4ba6-818a-1d9a42ec85eb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook: after test in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test \&quot;after each\&quot; hook: after test in \&quot;Contract: Donation Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.endTest(this);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b7fb5fa-d748-492a-9989-c7451fb2e205&quot;,&quot;parentUUID&quot;:&quot;4be9a5f8-4a44-4ba6-818a-1d9a42ec85eb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;48393b51-1c4b-4eb0-a963-979a75e7794f&quot;,&quot;title&quot;:&quot;Testing normal donation operations&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Donation.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Donation.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should donate correct amount of SNOW with correct message to the owner&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test Testing normal donation operations should donate correct amount of SNOW with correct message to the owner&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const account1StartingBalance = await snow.balanceOf(account1);\nconst account2StartingBalance = await snow.balanceOf(account2);\nconst expectedTokenType = tokenTypeToNum[\&quot;SNOW\&quot;];\nconst startingTotalDonation = await donation.getTotalDonation(\n  expectedTokenType\n);\nconst startingPersonalDonation = await donation.getDonationOfDonor(\n  account2,\n  expectedTokenType\n);\nconst donateAmount = SNOWdenomination(50000);\nconst donateMessage = \&quot;Good luck for your work\&quot;;\nconst expectedAccount1FinalBalance =\n  account1StartingBalance.add(donateAmount);\nconst expectedAccount2FinalBalance =\n  account2StartingBalance.sub(donateAmount);\nconst expectedTotalDonation = startingTotalDonation.add(donateAmount);\nconst expectedPersonalDonation =\n  startingPersonalDonation.add(donateAmount);\nawait snow.approve(donation.address, donateAmount, { from: account2 });\nconst result = await donation.donateSNOW(donateAmount, donateMessage, {\n  from: account2,\n});\nconst actualAccount1FinalBalance = await snow.balanceOf(account1);\nconst actualAccount2FinalBalance = await snow.balanceOf(account2);\nconst actualPersonalDonation = await donation.getDonationOfDonor(\n  account2,\n  expectedTokenType\n);\nconst actualTotalDonation = await donation.getTotalDonation(\n  expectedTokenType\n);\ntruffleAssert.eventEmitted(result, \&quot;Donate\&quot;, (ev) =&gt; {\n  return (\n    ev.donor === account2 &amp;&amp;\n    ev.tokenType.eqn(expectedTokenType) &amp;&amp;\n    ev.amount.eq(donateAmount) &amp;&amp;\n    ev.message === donateMessage\n  );\n});\nassert.isTrue(\n  expectedAccount1FinalBalance.eq(actualAccount1FinalBalance),\n  \&quot;Actual final balance of account 1 is not equal to the expected value after donation\&quot;\n);\nassert.isTrue(\n  expectedAccount2FinalBalance.eq(actualAccount2FinalBalance),\n  \&quot;Actual final balance of account 2 is not equal to the expected value after donation\&quot;\n);\nassert.isTrue(\n  expectedTotalDonation.eq(actualTotalDonation),\n  \&quot;Total donation is not equal to starting donation adds the donated amount\&quot;\n);\nassert.isTrue(\n  expectedPersonalDonation.eq(actualPersonalDonation),\n  \&quot;Personal donation is not equal to the starting personal donation adds the donated amount\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b319937-332b-4332-9d7c-314635989359&quot;,&quot;parentUUID&quot;:&quot;48393b51-1c4b-4eb0-a963-979a75e7794f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should donate correct amount of ETH with correct message to the owner&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test Testing normal donation operations should donate correct amount of ETH with correct message to the owner&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const account1StartingBalance = BN(await web3.eth.getBalance(account1));\nconst account2StartingBalance = BN(await web3.eth.getBalance(account2));\nconst expectedTokenType = tokenTypeToNum[\&quot;ETH\&quot;];\nconst startingTotalDonation = await donation.getTotalDonation(\n  expectedTokenType\n);\nconst startingPersonalDonation = await donation.getDonationOfDonor(\n  account2,\n  expectedTokenType\n);\nconst donateAmount = BN(Web3.utils.toWei(\&quot;0.05\&quot;, \&quot;ether\&quot;));\nconst donateMessage = \&quot;Good luck for your work\&quot;;\nconst expectedAccount1FinalBalance =\n  account1StartingBalance.add(donateAmount);\nvar expectedAccount2FinalBalance =\n  account2StartingBalance.sub(donateAmount);\nconst expectedTotalDonation = startingTotalDonation.add(donateAmount);\nconst expectedPersonalDonation =\n  startingPersonalDonation.add(donateAmount);\nconst result = await donation.donateETH(donateMessage, {\n  from: account2,\n  value: donateAmount,\n});\nconst actualAccount1FinalBalance = BN(\n  await web3.eth.getBalance(account1)\n);\nconst actualAccount2FinalBalance = BN(\n  await web3.eth.getBalance(account2)\n);\nconst actualPersonalDonation = await donation.getDonationOfDonor(\n  account2,\n  expectedTokenType\n);\nconst actualTotalDonation = await donation.getTotalDonation(\n  expectedTokenType\n);\nconst gasPrice = BN(result.receipt.effectiveGasPrice);\nconst gasUsed = BN(result.receipt.gasUsed);\nconst gasCost = gasPrice.mul(gasUsed);\nexpectedAccount2FinalBalance.isub(gasCost);\ntruffleAssert.eventEmitted(result, \&quot;Donate\&quot;, (ev) =&gt; {\n  return (\n    ev.donor === account2 &amp;&amp;\n    ev.tokenType.eqn(expectedTokenType) &amp;&amp;\n    ev.amount.eq(donateAmount) &amp;&amp;\n    ev.message === donateMessage\n  );\n});\nassert.isTrue(\n  expectedAccount1FinalBalance.eq(actualAccount1FinalBalance),\n  \&quot;Actual final balance of account 1 is not equal to the expected value after donation\&quot;\n);\nassert.isTrue(\n  expectedAccount2FinalBalance.eq(actualAccount2FinalBalance),\n  \&quot;Actual final balance of account 2 is not equal to the expected value after donation\&quot;\n);\nassert.isTrue(\n  expectedTotalDonation.eq(actualTotalDonation),\n  \&quot;Total donation is not equal to starting donation adds the donated amount\&quot;\n);\nassert.isTrue(\n  expectedPersonalDonation.eq(actualPersonalDonation),\n  \&quot;Personal donation is not equal to the starting personal donation adds the donated amount\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1c35b60-60bd-4690-a350-797656835392&quot;,&quot;parentUUID&quot;:&quot;48393b51-1c4b-4eb0-a963-979a75e7794f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b319937-332b-4332-9d7c-314635989359&quot;,&quot;b1c35b60-60bd-4690-a350-797656835392&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:207,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;3aba176b-fc4c-4c63-a157-3e820fe4017a&quot;,&quot;title&quot;:&quot;Revert Checks for Donation Contract&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\Donation.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\Donation.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should revert on 0 amount donation&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test Revert Checks for Donation Contract should revert on 0 amount donation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const message = \&quot;Good luck\&quot;;\nawait truffleAssert.fails(\n  donation.donateETH(message, { from: account2, value: \&quot;0\&quot; }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;cannot be zero\&quot;,\n  \&quot;ETH donation incorrectly passed with amount 0\&quot;\n);\nawait truffleAssert.fails(\n  donation.donateSNOW(\&quot;0\&quot;, message, { from: account2 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;cannot be zero\&quot;,\n  \&quot;SNOW donation incorrectly passed with amount 0\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da4c4862-f806-406a-bb0b-c878dbfa4f99&quot;,&quot;parentUUID&quot;:&quot;3aba176b-fc4c-4c63-a157-3e820fe4017a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on insufficient allowance&quot;,&quot;fullTitle&quot;:&quot;Contract: Donation Contract Unit Test and Integration Test Revert Checks for Donation Contract should revert on insufficient allowance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const message = \&quot;Good luck\&quot;;\nconst donateAmount = SNOWdenomination(50000);\nawait snow.approve(donation.address, donateAmount.subn(1));\nawait truffleAssert.fails(\n  donation.donateSNOW(donateAmount, message, { from: account2 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;insufficient allowance\&quot;,\n  \&quot;SNOW donation incorrectly passed with insufficient allowance\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab8002a9-2ca9-4621-b618-c4dd9972ba57&quot;,&quot;parentUUID&quot;:&quot;3aba176b-fc4c-4c63-a157-3e820fe4017a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;da4c4862-f806-406a-bb0b-c878dbfa4f99&quot;,&quot;ab8002a9-2ca9-4621-b618-c4dd9972ba57&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:221,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;c83d6030-1ba8-4964-bc96-de657d086291&quot;,&quot;title&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\ShelterNOW.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\ShelterNOW.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: prepare suite in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test \&quot;before all\&quot; hook: prepare suite in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(runner.BEFORE_TIMEOUT);\nawait runner.initialize();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22ee2a02-5617-499d-a447-216dc7bb8bd3&quot;,&quot;parentUUID&quot;:&quot;c83d6030-1ba8-4964-bc96-de657d086291&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: before test in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test \&quot;before each\&quot; hook: before test in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.startTest();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b404a488-de13-41af-b669-96abd5204978&quot;,&quot;parentUUID&quot;:&quot;c83d6030-1ba8-4964-bc96-de657d086291&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test \&quot;before each\&quot; hook in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;snow = await ShelterNOW.new();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2b9118a-3753-48b2-8657-fcc4e69bde16&quot;,&quot;parentUUID&quot;:&quot;c83d6030-1ba8-4964-bc96-de657d086291&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook: after test in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test \&quot;after each\&quot; hook: after test in \&quot;Contract: ShelterNOW Contract Unit Test and Integration Test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await runner.endTest(this);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dee7b677-66b7-4af5-b374-518355f8bcb1&quot;,&quot;parentUUID&quot;:&quot;c83d6030-1ba8-4964-bc96-de657d086291&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;830196ff-5612-4729-8609-070429fa50d8&quot;,&quot;title&quot;:&quot;Testing normal ShelterNOW operations&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\ShelterNOW.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\ShelterNOW.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should transfer token and receive token correctly&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test Testing normal ShelterNOW operations should transfer token and receive token correctly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const account1StartingBalance = await snow.balanceOf(account1);\nconst account2StartingBalance = await snow.balanceOf(account2);\nconst transferAmount = SNOWdenomination(100);\nconst expectedAccount1FinalBalance =\n  account1StartingBalance.sub(transferAmount);\nconst expectedAccount2FinalBalance =\n  account2StartingBalance.add(transferAmount);\nconst result = await snow.transfer(account2, transferAmount, {\n  from: account1,\n});\nconst actualAccount1FinalBalance = await snow.balanceOf(account1);\nconst actualAccount2FinalBalance = await snow.balanceOf(account2);\ntruffleAssert.eventEmitted(result, \&quot;Transfer\&quot;, (ev) =&gt; {\n  return (\n    ev.from == account1 &amp;&amp;\n    ev.to == account2 &amp;&amp;\n    ev.value.eq(transferAmount)\n  );\n});\nassert.isTrue(\n  expectedAccount1FinalBalance.eq(actualAccount1FinalBalance),\n  \&quot;Balance of account 1 is incorrect after transfer\&quot;\n);\nassert.isTrue(\n  expectedAccount2FinalBalance.eq(actualAccount2FinalBalance),\n  \&quot;Balance of account 2 is incorrect after transfer\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8fa5b6e-4143-4302-978d-2da59ed1cd23&quot;,&quot;parentUUID&quot;:&quot;830196ff-5612-4729-8609-070429fa50d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should correctly approve spending allowance to another account&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test Testing normal ShelterNOW operations should correctly approve spending allowance to another account&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const owner = account1;\nconst spender = account2;\nconst startingAllowance = await snow.allowance(owner, spender);\nconst givenAllowance = SNOWdenomination(200);\nconst expectedAllowance = SNOWdenomination(200);\nconst result = await snow.approve(spender, givenAllowance, {\n  from: owner,\n});\nconst actualAllowance = await snow.allowance(owner, spender);\ntruffleAssert.eventEmitted(result, \&quot;Approval\&quot;, (ev) =&gt; {\n  return (\n    ev.owner == owner &amp;&amp;\n    ev.spender == spender &amp;&amp;\n    ev.value.eq(expectedAllowance)\n  );\n});\nassert.isTrue(\n  startingAllowance.eqn(0),\n  \&quot;Starting allowance should be equal to 0\&quot;\n);\nassert.isTrue(\n  expectedAllowance.eq(actualAllowance),\n  \&quot;Expected allowance is not equal to the actual allowance\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a43db10b-fada-4ef0-93f3-8c7101c33af8&quot;,&quot;parentUUID&quot;:&quot;830196ff-5612-4729-8609-070429fa50d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should transfer token and receive token correctly by approved spender&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test Testing normal ShelterNOW operations should transfer token and receive token correctly by approved spender&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const owner = account1;\nconst spender = account2;\nconst account1StartingBalance = await snow.balanceOf(owner);\nconst account2StartingBalance = await snow.balanceOf(spender);\nconst transferAmount = SNOWdenomination(200);\nconst expectedAccount1FinalBalance =\n  account1StartingBalance.sub(transferAmount);\nconst expectedAccount2FinalBalance =\n  account2StartingBalance.add(transferAmount);\nawait snow.approve(spender, transferAmount, { from: owner });\nconst approvedAllowance = await snow.allowance(owner, spender);\nconst expectedFinalAllowance = approvedAllowance.sub(transferAmount);\nconst result = await snow.transferFrom(owner, spender, transferAmount, {\n  from: spender,\n});\nconst actualAccount1FinalBalance = await snow.balanceOf(owner);\nconst actualAccount2FinalBalance = await snow.balanceOf(spender);\nconst actualFinalAllowance = await snow.allowance(owner, spender);\ntruffleAssert.eventEmitted(result, \&quot;Transfer\&quot;, (ev) =&gt; {\n  return (\n    ev.from == account1 &amp;&amp;\n    ev.to == account2 &amp;&amp;\n    ev.value.eq(transferAmount)\n  );\n});\nassert.isTrue(\n  expectedAccount1FinalBalance.eq(actualAccount1FinalBalance),\n  \&quot;Balance of account 1 is incorrect after transfer\&quot;\n);\nassert.isTrue(\n  expectedAccount2FinalBalance.eq(actualAccount2FinalBalance),\n  \&quot;Balance of account 2 is incorrect after transfer\&quot;\n);\nassert.isTrue(\n  approvedAllowance.eq(transferAmount),\n  \&quot;Allowance is not increased after approval\&quot;\n);\nassert.isTrue(\n  actualFinalAllowance.eq(expectedFinalAllowance),\n  \&quot;Final allowance is not spent by the transfer amount\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fe5b36e-3729-4f86-9f42-6d6a2122a9e1&quot;,&quot;parentUUID&quot;:&quot;830196ff-5612-4729-8609-070429fa50d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e8fa5b6e-4143-4302-978d-2da59ed1cd23&quot;,&quot;a43db10b-fada-4ef0-93f3-8c7101c33af8&quot;,&quot;1fe5b36e-3729-4f86-9f42-6d6a2122a9e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:291,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;c4615ffc-9eb4-41d4-be3a-211a9c0c29af&quot;,&quot;title&quot;:&quot;Revert checks for ShelterNOW Contract&quot;,&quot;fullFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\test\\contracts\\ShelterNOW.test.js&quot;,&quot;file&quot;:&quot;\\test\\contracts\\ShelterNOW.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should revert on insufficient balance&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test Revert checks for ShelterNOW Contract should revert on insufficient balance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const account2Balance = await snow.balanceOf(account2);\ntruffleAssert.fails(\n  snow.transfer(account1, account2Balance.addn(1), { from: account2 }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;transfer amount exceeds balance\&quot;,\n  \&quot;ShelterNOW transfer incorrectly passes with insufficient balance\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d2615de-5795-4526-9ff0-16aa6aff5acb&quot;,&quot;parentUUID&quot;:&quot;c4615ffc-9eb4-41d4-be3a-211a9c0c29af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert on insufficient allowance&quot;,&quot;fullTitle&quot;:&quot;Contract: ShelterNOW Contract Unit Test and Integration Test Revert checks for ShelterNOW Contract should revert on insufficient allowance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const transferAmount = \&quot;15000000000000\&quot;;\ntruffleAssert.fails(\n  snow.transferFrom(account1, account2, transferAmount, {\n    from: account2,\n  }),\n  truffleAssert.ErrorType.REVERT,\n  \&quot;insufficient allowance\&quot;,\n  \&quot;ShelterNOW transfer incorrectly passes with insufficient allowance\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efb8412f-1989-4db5-9b1c-90a8fa0ad6b5&quot;,&quot;parentUUID&quot;:&quot;c4615ffc-9eb4-41d4-be3a-211a9c0c29af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d2615de-5795-4526-9ff0-16aa6aff5acb&quot;,&quot;efb8412f-1989-4db5-9b1c-90a8fa0ad6b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:100000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:false,&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;animal-shelters-dapp&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;E:\\Users\\user\\Documents\\Homework\\Year 3 Comp\\CSC3632\\animal-shelters-dapp\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>